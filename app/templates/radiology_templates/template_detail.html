{% extends "base.html" %}
{% block title %}{{ template.template_name }} – Template{% endblock %}

{% block content %}
<div class="container py-4">
  <a href="{{ url_for('content_routes.list_templates') }}" class="btn btn-link mb-3">
    ← Back to all templates
  </a>

  <div class="card shadow-sm">
    <div class="card-body">
      <h2 class="card-title mb-2">{{ template.template_name }}</h2>

      <p class="text-muted mb-3">
        {% if template.modality %}
          <strong>Modality:</strong> {{ template.modality.value }} ·
        {% endif %}
        {% if template.body_part %}
          <strong>Body part:</strong> {{ template.body_part.value }} ·
        {% endif %}
        {% if template.module %}
          <strong>Module:</strong> {{ template.module.value }}
        {% endif %}
      </p>

      {% if template.description %}
        <h5>Description</h5>
        <p>{{ template.description }}</p>
      {% endif %}

      {% if template.tags %}
        <p class="mt-2"><strong>Tags:</strong> {{ template.tags }}</p>
      {% endif %}

      {% if template.filepath %}
        <hr>
        <p class="mb-2">This template has an associated file.</p>
        <a href="{{ url_for('content_routes.serve_template_file', template_id=template.id) }}"
           class="btn btn-primary" target="_blank">
          Open Template File
        </a>
      {% else %}
        <p class="text-muted mt-3">No file attached to this template yet.</p>
      {% endif %}
    </div>
  </div>
</div>
{% endblock %}